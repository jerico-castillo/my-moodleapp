<core-loading [hideUntil]="loaded" class="core-loading-center">
    <core-empty-box *ngIf="!filteredEvents || !filteredEvents.length" icon="fas-calendar" [message]="'addon.calendar.noevents' | translate">
    </core-empty-box>

    <ion-list *ngIf="filteredEvents && filteredEvents.length"  class="ion-no-margin">
        <ng-container *ngFor="let event of filteredEvents">
            <ion-item class="ion-text-wrap addon-calendar-event" [title]="event.name" (click)="eventClicked(event)"
                [ngClass]="['addon-calendar-eventtype-'+event.eventtype]">
                <img *ngIf="event.moduleIcon" src="{{event.moduleIcon}}" slot="start" class="core-module-icon">
                <ion-icon *ngIf="event.eventIcon && !event.moduleIcon" [name]="event.eventIcon" slot="start">
                </ion-icon>
                <ion-label>
                    <h2><core-format-text [text]="event.name" [contextLevel]="event.contextLevel"
                        [contextInstanceId]="event.contextInstanceId"></core-format-text></h2>
                    <p [innerHTML]="event.formattedtime"></p>
                </ion-label>
                <ion-note *ngIf="event.offline && !event.deleted" slot="end">
                    <ion-icon name="far-clock"></ion-icon>
                    <span class="ion-text-wrap">{{ 'core.notsent' | translate }}</span>
                </ion-note>
                <ion-note *ngIf="event.deleted" slot="end">
                    <ion-icon name="fas-trash"></ion-icon>
                    <span class="ion-text-wrap">{{ 'core.deletedoffline' | translate }}</span>
                </ion-note>
            </ion-item>
        </ng-container>
    </ion-list>

</core-loading>
