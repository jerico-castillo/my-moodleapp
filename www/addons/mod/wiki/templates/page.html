<ion-content delegate-handle="mmaModWikiIndexScroll" padding="true" mm-state-class>
    <ion-refresher pulling-text="{{ 'mm.core.pulltorefresh' | translate }}" ng-if="wikiLoaded" on-refresh="refreshWiki()"></ion-refresher>
    <mm-loading hide-until="wikiLoaded">
        <mm-course-mod-description description="description" watch="true" ng-if="mainpage" component="{{component}}" component-id="{{componentId}}"></mm-course-mod-description>

        <div class="padding" ng-if="isOffline">
            <p class="badge badge-inline badge-assertive padding">
                <i class="icon ion-alert-circled padding"></i> {{ 'mm.core.hasdatatosync' | translate:{$a: pageStr} }}
            </p>
        </div>

        <article ng-class="{'mma-mod_wiki-noedit': !canEdit}">
            <mm-format-text class="mm-content-with-float" watch="true" component="{{component}}" component-id="{{componentId}}" ng-if="pageContent">{{ pageContent }}</mm-format-text>
            <p ng-if="!pageContent">{{ 'mma.mod_wiki.nocontent' | translate }}</p>
        </article>
    </mm-loading>
</ion-content>