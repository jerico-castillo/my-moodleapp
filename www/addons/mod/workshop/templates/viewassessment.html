<ion-view>
    <ion-nav-title><mm-format-text watch="true">{{ title }}</mm-format-text></ion-nav-title>
    <ion-content mm-state-class delegate-handle="mmaModWorkshopAssessmentScroll">
        <ion-refresher pulling-text="{{ 'mm.core.pulltorefresh' | translate }}" ng-if="assessmentLoaded" on-refresh="refreshAssessment()"></ion-refresher>
        <mm-loading hide-until="assessmentLoaded">
            <div class="item item-heading item-text-wrap item-border item-avatar clearfix">
                <img ng-if="profile.profileimageurl" ng-src="{{profile.profileimageurl}}" mm-external-content mm-user-link courseid="{{courseId}}" userid="{{profile.id}}" alt="{{ 'mm.core.pictureof' | translate:{$a: profile.fullname} }}" role="presentation">
                <img ng-if="profile && !profile.profileimageurl" src="img/user-avatar.png"  alt="{{ 'mm.core.pictureof' | translate:{$a: profile.fullname} }}" role="presentation">
                <h2 ng-if="profile.fullname">{{profile.fullname}}</h2>
                <p ng-if="assessment.grade">{{ 'mma.mod_workshop.gradeinfo' | translate:{$a: {'received': assessment.grade, 'max': maxGrade } } }}</p>
                <p ng-if="assessment.gradinggrade">{{ 'mma.mod_workshop.gradinggrade' | translate }}: {{assessment.gradinggrade}}</p>
                <p ng-if="assessment.gradinggradeover">{{ 'mma.mod_workshop.gradinggradeover' | translate }}: {{assessment.gradinggradeover}}</p>
                <p ng-if="assessment.weight && assessment.weight != 1">{{ 'mma.mod_workshop.weightinfo' | translate:{$a: assessment.weight } }}</p>
                <p ng-if="!assessment.grade" class="badge badge-inline text-center badge-assertive">{{ 'mma.mod_workshop.notassessed' | translate }}</p>
            </div>

            <mma-mod-workshop-assessment-strategy ng-if="assessmentId && assessment.grade" workshop="workshop" access="access" assessment-id="assessmentId" user-id="profile.id" strategy="strategy"></mma-mod-workshop-assessment-strategy>
        </mm-loading>
    </ion-content>
</ion-view>
