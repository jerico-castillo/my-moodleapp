<ion-view>
    <ion-nav-title><mm-format-text watch="true">{{ title }}</mm-format-text></ion-nav-title>
    <ion-content mm-state-class delegate-handle="mmaModWorkshopSubmissionScroll">
        <ion-refresher pulling-text="{{ 'mm.core.pulltorefresh' | translate }}" ng-if="submissionLoaded" on-refresh="refreshSubmission()"></ion-refresher>
        <mm-loading hide-until="submissionLoaded">
            <mma-mod-workshop-submission ng-if="submission" submission="submission" courseid="courseId" module="module">
            </mma-mod-workshop-submission>
            <div ng-if="submission && (canEdit || canDelete)" class="item item-text-wrap">
                <a class="button button-block button-positive icon-left ion-edit" ng-if="canEdit" ng-click="editSubmission()">{{ 'mma.mod_workshop.editsubmission' | translate }}</a>
                <a ng-if="!submission.deleted && canDelete" class="button button-block button-assertive icon-left ion-trash-a" ng-click="deleteSubmission()">{{ 'mma.mod_workshop.deletesubmission' | translate }}</a>
                <a ng-if="submission.deleted && canDelete" class="button button-block icon-left ion-reply" ng-click="undoDeleteSubmission()">{{ 'mm.core.restore' | translate }}</a>
            </div>

            <h3 class="padding" ng-if="assessment">{{ 'mma.mod_workshop.assessmentform' | translate }}</h3>
        </mm-loading>
    </ion-content>
</ion-view>
