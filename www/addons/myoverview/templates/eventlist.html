<h5 ng-if="recentlyOverdue.length > 0" class="assertive mm-timelinetitle">{{ 'mma.myoverview.recentlyoverdue' | translate }}</h5>
<ul class="list block" ng-if="recentlyOverdue.length > 0">
    <li ng-repeat="event in recentlyOverdue">
        <a mm-link capture-link="true" class="item mm-course-module-handler item-media" href="{{ event.url }}" title="{{ event.name }}">
            <img ng-src="{{ event.iconUrl }}" mm-external-content alt="" role="presentation" ng-if="event.iconUrl">
            <p class="item-heading"><mm-format-text watch="true">{{ event.name }}</mm-format-text></p>
            <p>{{event.timesort * 1000 | mmFormatDate:"dfmediumdate" }} <mm-format-text watch="true" ng-if="showCourse">{{ event.course.fullnamedisplay }}</mm-format-text></p>
        </a>
    </li>
</ul>

<h5 ng-if="today.length > 0" class="mm-timelinetitle">{{ 'mma.myoverview.today' | translate }}</h5>
<ul class="list block" ng-if="today.length > 0">
    <li ng-repeat="event in today">
        <a mm-link capture-link="true" class="item mm-course-module-handler item-media" href="{{ event.url }}" title="{{ event.name }}">
            <img ng-src="{{ event.iconUrl }}" mm-external-content alt="" role="presentation" ng-if="event.iconUrl">
            <p class="item-heading"><mm-format-text watch="true">{{ event.name }}</mm-format-text></p>
            <p>{{event.timesort * 1000 | mmFormatDate:"dfmediumdate" }} <mm-format-text watch="true" ng-if="showCourse">{{ event.course.fullnamedisplay }}</mm-format-text></p>
        </a>
    </li>
</ul>

<h5 ng-if="next7Days.length > 0" class="mm-timelinetitle">{{ 'mma.myoverview.next7days' | translate }}</h5>
<ul class="list block" ng-if="next7Days.length > 0">
    <li ng-repeat="event in next7Days">
        <a mm-link capture-link="true" class="item mm-course-module-handler item-media" href="{{ event.url }}" title="{{ event.name }}">
            <img ng-src="{{ event.iconUrl }}" mm-external-content alt="" role="presentation" ng-if="event.iconUrl">
            <p class="item-heading"><mm-format-text watch="true">{{ event.name }}</mm-format-text></p>
            <p>{{event.timesort * 1000 | mmFormatDate:"dfmediumdate" }} <mm-format-text watch="true" ng-if="showCourse">{{ event.course.fullnamedisplay }}</mm-format-text></p>
        </a>
    </li>
</ul>

<h5 ng-if="next30Days.length > 0" class="mm-timelinetitle">{{ 'mma.myoverview.next30days' | translate }}</h5>
<ul class="list block" ng-if="next30Days.length > 0">
    <li ng-repeat="event in next30Days">
        <a mm-link capture-link="true" class="item mm-course-module-handler item-media" href="{{ event.url }}" title="{{ event.name }}">
            <img ng-src="{{ event.iconUrl }}" mm-external-content alt="" role="presentation" ng-if="event.iconUrl">
            <p class="item-heading"><mm-format-text watch="true">{{ event.name }}</mm-format-text></p>
            <p>{{event.timesort * 1000 | mmFormatDate:"dfmediumdate" }} <mm-format-text watch="true" ng-if="showCourse">{{ event.course.fullnamedisplay }}</mm-format-text></p>
        </a>
    </li>
</ul>

<h5 ng-if="future.length > 0" class="mm-timelinetitle">{{ 'mma.myoverview.future' | translate }}</h5>
<div class="list block" ng-if="future.length > 0">
    <a ng-repeat="event in future" mm-link capture-link="true" class="item mm-course-module-handler item-media" href="{{ event.url }}" title="{{ event.name }}">
        <img ng-src="{{ event.iconUrl }}" mm-external-content alt="" role="presentation" ng-if="event.iconUrl">
        <p class="item-heading"><mm-format-text watch="true">{{ event.name }}</mm-format-text></p>
        <p>{{event.timesort * 1000 | mmFormatDate:"dfmediumdate" }} <mm-format-text watch="true" ng-if="showCourse">{{ event.course.fullnamedisplay }}</mm-format-text></p>
    </a>
</div>

<div class="padding text-center" ng-if="canLoadMore && !empty">
    <!-- Button and spinner to show more attempts. -->
    <button ng-if="!loadingMore" class="button button-block" ng-click="loadMoreEvents()">{{ 'mm.core.loadmore' | translate }}</button>
    <ion-spinner ng-if="loadingMore"></ion-spinner>
</div>
<div ng-if="empty" class="mm-empty-box block">
    <img ng-if="showCourse" src="addons/myoverview/img/activities.svg">
    <p>{{ 'mma.myoverview.noevents' | translate }}</p>
</div>
